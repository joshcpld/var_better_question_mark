model_2_data %>%
dplyr::select(-date) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=6, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=7, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=8, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=9, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=10, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=11, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=12, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=13, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=14, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=6, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_1_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.asymptotic")
model_1_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2)
model_1_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 4)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=1, type = "const") %>%
serial.test(lags.bg = 1)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=1, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2)
model_1_data %>%
dplyr::select(-date) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_1_data %>%
dplyr::select(-date) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 3)
model_1_data %>%
dplyr::select(-date) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_1_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=1, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=8, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=10, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=12, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-date) %>%
VAR(p=15, type = "const") %>%
serial.test(lags.bg = 3)
View(model_2_data)
model_2_data %>%
dplyr::select(-c(date, tot, twi)) %>%
VARselect(type = "const")
model_2_data %>%
dplyr::select(-c(date, tot, twi)) %>%
VAR(p=1, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-c(date, tot, twi)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-c(date, tot, twi)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-c(date, tot, twi)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 4)
model_2_data %>%
dplyr::select(-c(date, tot, twi)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 5)
model_2_data %>%
dplyr::select(-c(date, tot)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 5)
model_2_data %>%
dplyr::select(-c(date, tot)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2)
data <- read_csv("data/data.csv")
model_2_data <- data %>%
na.omit()
model_2_data %>%
pivot_longer(-date) %>%
ggplot(aes(date, value, colour = name)) + geom_line() + facet_wrap(~name, scales = "free")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=6, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=7, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=8, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=9, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=10, type = "const") %>%
serial.test(lags.bg = 2, type = "PT.adjusted")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=10, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=6, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=7, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=8, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=9, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=10, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=11, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=12, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_1_data %>%
dplyr::select(-date) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 3)
model_1_data %>%
dplyr::select(-date) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VARselect(type = "const")
model_2_data %>%
dplyr::select(-c(date)) %>%
VARselect(type = "const")
model_2_data %>%
dplyr::select(-c(date)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2, type = "BG")
model_2_data %>%
dplyr::select(-c(date)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 2)
model_2_data %>%
dplyr::select(-c(date)) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-c(date)) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 4)
model_2_data %>%
dplyr::select(-c(date)) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 5)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 5)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=4, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=2, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 3)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=5, type = "const") %>%
serial.test(lags.bg = 5)
model_2_data %>%
dplyr::select(-c(date, twi)) %>%
VAR(p=3, type = "const") %>%
serial.test(lags.bg = 3)
################################################################################
################################### SET-UP #####################################
################################################################################
library(tidyverse)
library(readabs)
library(lubridate)
################################################################################
############################ SOURCING VARIABLE IDS #############################
################################################################################
series_ids <- tibble(
variable = c(
# Model 1
"gdp", # Gross Domestic Product
"cpi", # Inflation
"rnu", # Unemployment rate
# Model 2 additions
"hfce", # Household consumption
"priv_gfcf", # Private investment
"pfd", # Public final demand
"xgs", # Exports
"mgs", # Imports
"tot" # Terms of Trade
),
series_id = c(
# Model 1
"A2304402X", # GDP
"A2325846C", # inflation
"A84423050A", # rnu
# Model 2 additions
"A2304081W", # hfce
"A2304100T", # priv_gfcf
"A124830485W", # pfd
"A2304114F", # xgs
"A2304115J", # mgs
"A3534885C" # tot
)
) %>%
mutate(release = case_when(
variable == "cpi" ~ "cpi",
variable %in% c("rnu") ~ "lfs",
variable == "tot" ~ "bop",
TRUE ~ "na"
))
################################################################################
################################## DATA DOWNLOAD ###############################
################################################################################
################################## NON-LFS DATA ################################
# Nataccs data
na_ids <- series_ids %>% filter(release == "na")
na_data <- map2_dfr(
na_ids$series_id,
na_ids$variable,
~{
read_abs(series_id = .x, metadata = FALSE) %>%
mutate(variable = .y) %>%
select(date, value, variable)
}
) %>%
pivot_wider(names_from = variable)
series_ids <- tibble(
variable = c(
# Model 1
"gdp", # Gross Domestic Product
"cpi", # Inflation
"rnu", # Unemployment rate
# Model 2 additions
"hfce", # Household consumption
"priv_gfcf", # Private investment
"pfd", # Public final demand
"xgs", # Exports
"mgs", # Imports
"tot" # Terms of Trade
),
series_id = c(
# Model 1
"A2304402X", # GDP
"A2325846C", # inflation
"A84423050A", # rnu
# Model 2 additions
"A2304081W", # hfce
"A2304100T", # priv_gfcf
"A124830485W", # pfd
"A2304114F", # xgs
"A2304115J", # mgs
"A3534885C" # tot
)
) %>%
mutate(release = case_when(
variable == "cpi" ~ "cpi",
variable %in% c("rnu") ~ "lfs",
variable == "tot" ~ "bop",
TRUE ~ "na"
))
na_ids <- series_ids %>% filter(release == "na")
na_data <- map2_dfr(
na_ids$series_id,
na_ids$variable,
~{
read_abs(series_id = .x, metadata = FALSE) %>%
mutate(variable = .y) %>%
select(date, value, variable)
}
) %>%
pivot_wider(names_from = variable)
View(series_ids)
na_ids <- series_ids %>% filter(release == "na")
na_data <- map2_dfr(
na_ids$series_id,
na_ids$variable,
~{
read_abs(series_id = .x, metadata = FALSE) %>%
mutate(variable = .y) %>%
select(date, value, variable)
}
) %>%
pivot_wider(names_from = variable)
